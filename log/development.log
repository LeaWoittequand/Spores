  [1m[35m (1.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "spores_development"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "spores_test"[0m
  [1m[35m (388.8ms)[0m  [1m[35mCREATE DATABASE "spores_development" ENCODING = 'unicode'[0m
  [1m[35m (381.8ms)[0m  [1m[35mCREATE DATABASE "spores_test" ENCODING = 'unicode'[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-23 15:41:08.763046"], ["updated_at", "2017-09-23 15:41:08.763046"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-09-23 17:48:05 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8372ms (Views: 8115.2ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 17:50:45 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 48ms (Views: 46.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 17:54:44 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 27ms (Views: 24.5ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 18:43:06 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 498ms (Views: 270.1ms)


Started GET "/" for 127.0.0.1 at 2017-09-23 18:44:10 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 45ms (Views: 43.1ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20170924075512)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "avatar" character varying, "email" character varying, "phone" character varying, "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075512"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-24 09:22:22.202625"], ["updated_at", "2017-09-24 09:22:22.202625"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-09-24 11:30:13 +0200
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 200 OK in 380ms (Views: 378.1ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170924093628)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (194.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "spores_development"[0m
  [1m[35m (195.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "spores_test"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "spores_development"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "spores_test"[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170924073628)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924073628"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20170924075125)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "description" text, "picture" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075125"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFlats (20170924075231)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "flats" ("id" bigserial primary key, "description" text, "picture" character varying, "lat" float, "lng" float, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075231"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20170924075328)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "begin_date" date, "end_date" date, "member_of_people" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075328"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-24 09:39:39.824119"], ["updated_at", "2017-09-24 09:39:39.824119"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-24 11:40:23 +0200
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (95.8ms)
Completed 200 OK in 435ms (Views: 388.7ms | ActiveRecord: 8.1ms)


Started POST "/users" for 127.0.0.1 at 2017-09-24 11:42:49 +0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FK1cOkW42k5MArD3yhhr0xUmgSkgRBA8rvNW5Hhh6ZIhq1efWQVHY3HSUk+v1CBr1IHxNnFZAD+JHZlf6iYIkQ==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 77ms (Views: 41.8ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-09-24 11:43:01 +0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uaK5ep/InX2KtLTqronoWZuov57fC++iYrVXyV+3u9CMpLLfg3UAULdkVlLLRaPhWg/PgY4W/6FFW5hyzfBa0w==", "user"=>{"email"=>"lea.wtd@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lea.wtd@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "lea.wtd@gmail.com"], ["encrypted_password", "$2a$11$RJnNLnmHCkTVrc2Ale6Wru/FE0uDulIVSJHhY73HIXB.S6w430lwS"], ["created_at", "2017-09-24 09:43:01.589713"], ["updated_at", "2017-09-24 09:43:01.589713"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-09-24 09:43:01.592844"], ["last_sign_in_at", "2017-09-24 09:43:01.592844"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-09-24 09:43:01.593405"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 183ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 11:43:01 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 53ms (Views: 51.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 19:15:51 +0200

PG::ConnectionBad - FATAL:  database "spores_development" does not exist
:
  pg (0.21.0) lib/pg.rb:56:in `connect'
  activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
  activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
  activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
  activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
  activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
  activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
  activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/6e69a510b039c22a/variables" for 127.0.0.1 at 2017-09-24 19:15:51 +0200
Started GET "/" for 127.0.0.1 at 2017-09-24 19:15:55 +0200

PG::ConnectionBad - FATAL:  database "spores_development" does not exist
:
  pg (0.21.0) lib/pg.rb:56:in `connect'
  activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:695:in `connect'
  activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:220:in `initialize'
  activerecord (5.1.3) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
  activerecord (5.1.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
  activerecord (5.1.3) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
  activerecord (5.1.3) lib/active_record/connection_handling.rb:88:in `connection'
  activerecord (5.1.3) lib/active_record/migration.rb:562:in `connection'
  activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/e0e35bfd2f489c14/variables" for 127.0.0.1 at 2017-09-24 19:15:55 +0200
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170924073628)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924073628"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20170924075125)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" bigserial primary key, "description" text, "picture" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075125"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFlats (20170924075231)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "flats" ("id" bigserial primary key, "description" text, "picture" character varying, "lat" float, "lng" float, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075231"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20170924075328)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "begin_date" date, "end_date" date, "member_of_people" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924075328"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-24 17:16:29.616914"], ["updated_at", "2017-09-24 17:16:29.616914"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-09-24 19:17:32 +0200
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 393ms (Views: 391.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 20:25:25 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
  Rendered shared/_navbar.html.erb (6.4ms)
Completed 500 Internal Server Error in 285ms (ActiveRecord: 0.0ms)



Sprockets::Rails::Helper::AssetNotFound - The asset "logo.png" is not present in the asset pipeline.:
  sprockets-rails (3.2.1) lib/sprockets/rails/helper.rb:83:in `compute_asset_path'
  actionview (5.1.3) lib/action_view/helpers/asset_url_helper.rb:198:in `asset_path'
  actionview (5.1.3) lib/action_view/helpers/asset_url_helper.rb:373:in `image_path'
  actionview (5.1.3) lib/action_view/helpers/asset_tag_helper.rb:232:in `image_tag'
  app/views/shared/_navbar.html.erb:4:in `block in _app_views_shared__navbar_html_erb___1840815060099072175_70198300395160'
  actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'
  actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:203:in `with_output_buffer'
  actionview (5.1.3) lib/action_view/helpers/capture_helper.rb:39:in `capture'
  actionview (5.1.3) lib/action_view/helpers/tag_helper.rb:272:in `content_tag'
  actionview (5.1.3) lib/action_view/helpers/url_helper.rb:198:in `link_to'
  app/views/shared/_navbar.html.erb:3:in `_app_views_shared__navbar_html_erb___1840815060099072175_70198300395160'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:157:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/partial_renderer.rb:342:in `block in render_partial'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/partial_renderer.rb:331:in `render_partial'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/partial_renderer.rb:310:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:47:in `render_partial'
  actionview (5.1.3) lib/action_view/helpers/rendering_helper.rb:35:in `render'
  app/views/layouts/application.html.erb:13:in `_app_views_layouts_application_html_erb__1446355900979009866_70198244215540'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:157:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:64:in `render_with_layout'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:50:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:14:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:42:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:23:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:103:in `_render_template'
  actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
  actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /usr/local/opt/rbenv/versions/2.3.4/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:33:in `default_render'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/6f1ebafde3a21f86/variables" for 127.0.0.1 at 2017-09-24 20:25:25 +0200
Started GET "/" for 127.0.0.1 at 2017-09-24 20:26:58 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
  Rendered shared/_navbar.html.erb (136.5ms)
Completed 200 OK in 159ms (Views: 158.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 20:27:16 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
  Rendered shared/_navbar.html.erb (2.1ms)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-24 20:27:25 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (79.6ms)
  Rendered shared/_navbar.html.erb (3.0ms)
Completed 200 OK in 124ms (Views: 104.7ms | ActiveRecord: 3.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-24 20:27:31 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/sessions/new.html.erb within layouts/application (19.3ms)
  Rendered shared/_navbar.html.erb (2.2ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-09-24 20:27:33 +0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.1ms)
  Rendered shared/_navbar.html.erb (2.6ms)
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:05:58 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
  Rendered shared/_navbar.html.erb (11.5ms)
Completed 200 OK in 276ms (Views: 274.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:06:18 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
  Rendered shared/_navbar.html.erb (1.9ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:11:48 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.9ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:13:35 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (1.2ms)
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:14:18 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.7ms)
  Rendered shared/_navbar.html.erb (3.0ms)
  Rendered shared/_footer.html.erb (2.3ms)
Completed 200 OK in 40ms (Views: 38.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:15:20 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.1ms)
  Rendered shared/_navbar.html.erb (2.8ms)
  Rendered shared/_footer.html.erb (1.6ms)
Completed 200 OK in 3524ms (Views: 3522.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:15:58 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.8ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_footer.html.erb (1.7ms)
Completed 200 OK in 2947ms (Views: 2945.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:16:50 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.5ms)
  Rendered shared/_navbar.html.erb (3.3ms)
  Rendered shared/_footer.html.erb (1.8ms)
Completed 200 OK in 2856ms (Views: 2854.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:18:02 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.0ms)
  Rendered shared/_navbar.html.erb (2.8ms)
  Rendered shared/_footer.html.erb (1.5ms)
Completed 200 OK in 34ms (Views: 32.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:18:53 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.1ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_footer.html.erb (1.8ms)
Completed 200 OK in 32ms (Views: 30.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:19:08 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.9ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_footer.html.erb (1.6ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:19:49 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_footer.html.erb (1.7ms)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:20:49 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (1.3ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:21:11 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_footer.html.erb (1.1ms)
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:22:16 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (1.3ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:23:31 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
  Rendered shared/_navbar.html.erb (3.4ms)
  Rendered shared/_footer.html.erb (2.0ms)
Completed 200 OK in 2815ms (Views: 2813.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:25:31 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:25:45 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.9ms)
  Rendered shared/_navbar.html.erb (2.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 30.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:26:19 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.9ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:26:51 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:28:45 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:29:12 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-09-24 21:40:53 +0200
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (9.0ms)
  Rendered shared/_navbar.html.erb (5.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 287ms (Views: 285.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-24 21:40:58 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (42.9ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 93ms (Views: 73.6ms | ActiveRecord: 4.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-24 21:41:09 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (9.9ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 36ms (Views: 34.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:41:29 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:41:32 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-24 21:52:58 +0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (56.9ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 304ms (Views: 259.4ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:53:00 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
  Rendered shared/_navbar.html.erb (2.8ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-09-24 21:53:02 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.5ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 40ms (Views: 39.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-24 21:53:04 +0200
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.5ms)
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 45ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:58:32 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (8.5ms)
  Rendered shared/_navbar.html.erb (8.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 371ms (Views: 370.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 20:59:58 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:02:44 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:02:57 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:03:16 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:04:08 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:04:53 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:05:24 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (5.6ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:
  app/views/pages/home.html.erb:14:in `_app_views_pages_home_html_erb___1919575548164498062_70246955163440'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:157:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:50:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:14:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:42:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:23:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:103:in `_render_template'
  actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
  actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /usr/local/opt/rbenv/versions/2.3.4/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:33:in `default_render'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/08559f014e7fcbdd/variables" for 127.0.0.1 at 2017-10-07 21:05:24 +0700
Started GET "/" for 127.0.0.1 at 2017-10-07 21:06:39 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (7.9ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)



Sprockets::Rails::Helper::AssetNotFound - The asset "alexandre.png" is not present in the asset pipeline.:
  sprockets-rails (3.2.1) lib/sprockets/rails/helper.rb:83:in `compute_asset_path'
  actionview (5.1.3) lib/action_view/helpers/asset_url_helper.rb:198:in `asset_path'
  actionview (5.1.3) lib/action_view/helpers/asset_url_helper.rb:373:in `image_path'
  actionview (5.1.3) lib/action_view/helpers/asset_tag_helper.rb:232:in `image_tag'
  app/views/pages/home.html.erb:17:in `block in _app_views_pages_home_html_erb___1919575548164498062_70246939804480'
  app/views/pages/home.html.erb:14:in `_app_views_pages_home_html_erb___1919575548164498062_70246939804480'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:157:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:50:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:14:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:42:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:23:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:103:in `_render_template'
  actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
  actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /usr/local/opt/rbenv/versions/2.3.4/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:33:in `default_render'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/6896fed8be243429/variables" for 127.0.0.1 at 2017-10-07 21:06:39 +0700
Started GET "/" for 127.0.0.1 at 2017-10-07 21:15:37 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (129.5ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 154ms (Views: 152.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:16:31 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
  Rendered shared/_navbar.html.erb (2.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 3716ms (Views: 3714.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:16:46 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.5ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:17:26 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
  Rendered shared/_navbar.html.erb (3.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:18:48 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (110.8ms)
  Rendered shared/_navbar.html.erb (7.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 140ms (Views: 138.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:19:47 +0700
Processing by PagesController#home as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)



NameError - uninitialized constant PagesController::Sergey:
  activesupport (5.1.3) lib/active_support/dependencies.rb:549:in `load_missing_constant'
  activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
  app/controllers/pages_controller.rb:3:in `home'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/5729757f0083aa71/variables" for 127.0.0.1 at 2017-10-07 21:19:47 +0700
Started GET "/" for 127.0.0.1 at 2017-10-07 21:20:01 +0700
Processing by PagesController#home as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)



NameError - uninitialized constant PagesController::Moscow:
  activesupport (5.1.3) lib/active_support/dependencies.rb:549:in `load_missing_constant'
  activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
  app/controllers/pages_controller.rb:5:in `home'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.3.4/lib/ruby/gems/2.3.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/342f3ce68f2140af/variables" for 127.0.0.1 at 2017-10-07 21:20:01 +0700
Started GET "/" for 127.0.0.1 at 2017-10-07 21:20:08 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
  Rendered shared/_navbar.html.erb (2.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:20:59 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.9ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:22:29 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.0ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:23:07 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
  Rendered shared/_navbar.html.erb (3.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:23:50 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
  Rendered shared/_navbar.html.erb (2.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:24:39 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.2ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:25:12 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.5ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:25:32 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.3ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:26:16 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
  Rendered shared/_navbar.html.erb (2.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:26:39 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:26:52 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:27:11 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
  Rendered shared/_navbar.html.erb (2.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:27:49 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:28:22 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.2ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:28:29 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.5ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 30ms (Views: 28.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:29:26 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:30:31 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.2ms)
  Rendered shared/_navbar.html.erb (3.2ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-07 21:31:00 +0700
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 28ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-19 11:04:32 +0100
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (5269.3ms)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (55.6ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 5373ms (Views: 5358.3ms | ActiveRecord: 9.8ms)


Started GET "/flats" for 127.0.0.1 at 2017-10-19 11:04:48 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (7.0ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.6ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (6.4ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 90ms (Views: 42.5ms | ActiveRecord: 10.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-10-19 11:04:54 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (6.2ms)
  Rendered flats/show.html.erb within layouts/application (57.8ms)
  Rendered shared/_navbar.html.erb (2.2ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 108ms (Views: 88.1ms | ActiveRecord: 10.3ms)


Started GET "/flats/1/reviews/new" for 127.0.0.1 at 2017-10-19 11:04:59 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering reviews/new.html.erb within layouts/application
  Rendered reviews/_form.html.erb (79.6ms)
  Rendered reviews/new.html.erb within layouts/application (81.9ms)
  Rendered shared/_navbar.html.erb (2.4ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 135ms (Views: 125.8ms | ActiveRecord: 0.9ms)


Started GET "/flats" for 127.0.0.1 at 2017-10-19 11:05:02 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.0ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.9ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 44ms (Views: 36.0ms | ActiveRecord: 0.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-10-19 11:05:05 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (3.0ms)
  Rendered flats/show.html.erb within layouts/application (8.7ms)
  Rendered shared/_navbar.html.erb (5.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 54ms (Views: 46.5ms | ActiveRecord: 1.8ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-10-19 11:05:07 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (0.6ms)
  Rendered shared/_navbar.html.erb (3.3ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 42ms (Views: 37.4ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-10-19 11:05:18 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (2.8ms)
  Rendered flats/show.html.erb within layouts/application (9.1ms)
  Rendered shared/_navbar.html.erb (2.4ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 43ms (Views: 36.1ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 07:13:10 +0100
  [1m[35m (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (222.7ms)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (50.1ms)
  Rendered shared/_flashes.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 424ms (Views: 405.3ms | ActiveRecord: 10.6ms)


Started GET "/flats" for 127.0.0.1 at 2017-10-30 07:13:16 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (13.9ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.0ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (5.9ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 129ms (Views: 37.0ms | ActiveRecord: 17.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-10-30 07:13:20 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (2.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.2ms)
  Rendered flats/show.html.erb within layouts/application (47.8ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 95ms (Views: 74.4ms | ActiveRecord: 10.0ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-10-30 07:13:25 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (0.4ms)
  Rendered shared/_navbar.html.erb (2.7ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 49ms (Views: 42.3ms | ActiveRecord: 0.5ms)


  [1m[35m (8.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIdToBookings (20171030124252)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.9ms)[0m  [1m[35mALTER TABLE "bookings" ADD "user_id" integer[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171030124252"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBooking Load (1.0ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mBooking Load (1.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (6.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFlatIdToBookings (20171101155257)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD "flat_id" integer[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171101155257"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/bookings" for 127.0.0.1 at 2017-11-01 16:55:04 +0100
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

ActiveRecord::PendingMigrationError - Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

:
  activerecord (5.1.3) lib/active_record/migration.rb:576:in `check_pending!'
  activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/e324ffeda87b7bc5/variables" for 127.0.0.1 at 2017-11-01 16:55:04 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:55:10 +0100
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

ActiveRecord::PendingMigrationError - Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

:
  activerecord (5.1.3) lib/active_record/migration.rb:576:in `check_pending!'
  activerecord (5.1.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/4ec3784b338547b8/variables" for 127.0.0.1 at 2017-11-01 16:55:10 +0100
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFlatIdToBookings (20171924155257)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "bookings" ADD "flat_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7297023196631383005)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7297023196631383005)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-11-01 16:56:30 +0100
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (255.4ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (55.8ms)
  Rendered shared/_flashes.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 411ms (Views: 396.3ms | ActiveRecord: 8.0ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-01 16:56:32 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (22.2ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.3ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 96ms (Views: 33.7ms | ActiveRecord: 3.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-01 16:56:35 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.8ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.1ms)
  Rendered flats/show.html.erb within layouts/application (58.6ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 109ms (Views: 95.3ms | ActiveRecord: 4.2ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-01 16:56:36 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (91.1ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 152ms (Views: 133.8ms | ActiveRecord: 3.3ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:56:43 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6uDPIQdq/wy2AQJ1eMMz0UxnMu44AifsbhyS45TfIROuM+qr6z/yaZBOIZMJVzEXEOJ/jM+LrMiUecK3Or/Bfg==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"10", "begin_date(3i)"=>"2", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.5ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/194443618605b605/variables" for 127.0.0.1 at 2017-11-01 16:56:43 +0100
Started GET "/bookings" for 127.0.0.1 at 2017-11-01 16:57:21 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  Rendered bookings/index.html.erb within layouts/application (0.3ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 24.9ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2017-11-01 16:57:22 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 31.1ms | ActiveRecord: 0.4ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-01 16:57:23 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.8ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.3ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 28.4ms | ActiveRecord: 2.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-01 16:57:25 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.2ms)
  Rendered flats/show.html.erb within layouts/application (33.7ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 75ms (Views: 61.2ms | ActiveRecord: 6.9ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-01 16:57:26 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (12.0ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 44.5ms | ActiveRecord: 4.4ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:57:30 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"F9/psYGiAdLZSl8uYmNlL+8EfXLqzcFfGoPIxfq0/0BTDMw7bfcMt/8FfMgT92fps4EwEB1ESnvg5piRVNQfLQ==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"10", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 8ms (ActiveRecord: 1.1ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/bffbf438805009d4/variables" for 127.0.0.1 at 2017-11-01 16:57:30 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:57:44 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"F9/psYGiAdLZSl8uYmNlL+8EfXLqzcFfGoPIxfq0/0BTDMw7bfcMt/8FfMgT92fps4EwEB1ESnvg5piRVNQfLQ==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"10", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (7.5ms)
  Rendered shared/_navbar.html.erb (1.5ms)
  Rendered shared/_flashes.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 65ms (Views: 31.8ms | ActiveRecord: 5.4ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:57:51 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KkzKlTyGaIB9pvoENvhhtvjEElrT09YjEWO7OQnd4ABun+8f0NNl5Vvp2eJHbGNwpEFfOCRaXQfrButtp70AbQ==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"6"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["begin_date", "2017-11-01"], ["end_date", "2017-11-06"], ["member_of_people", "2"], ["created_at", "2017-11-01 15:57:51.254495"], ["updated_at", "2017-11-01 15:57:51.254495"], ["user_id", 3]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 4.0ms)



ActionController::UrlGenerationError - No route matches {:action=>"show", :controller=>"flats", :id=>nil}, missing required keys: [:id]:
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:246:in `raise_generation_error'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:216:in `block in optimized_helper'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:231:in `block in parameterize_args'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:228:in `parameterize_args'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:215:in `optimized_helper'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:205:in `call'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:325:in `block (2 levels) in define_url_helper'
  app/controllers/bookings_controller.rb:10:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/1bb14d61465d033f/variables" for 127.0.0.1 at 2017-11-01 16:57:51 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:58:45 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KkzKlTyGaIB9pvoENvhhtvjEElrT09YjEWO7OQnd4ABun+8f0NNl5Vvp2eJHbGNwpEFfOCRaXQfrButtp70AbQ==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"6"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 33ms (ActiveRecord: 5.1ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/0009b5cc4b1cc3e3/variables" for 127.0.0.1 at 2017-11-01 16:58:45 +0100
Started GET "/" for 127.0.0.1 at 2017-11-01 16:58:50 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 28.8ms | ActiveRecord: 0.3ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-01 16:58:58 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.5ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (5.0ms)
  Rendered shared/_flashes.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 51ms (Views: 36.2ms | ActiveRecord: 1.4ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-01 16:59:01 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.7ms)
  Rendered flats/show.html.erb within layouts/application (40.1ms)
  Rendered shared/_navbar.html.erb (4.0ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 68.7ms | ActiveRecord: 4.9ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-01 16:59:01 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (1.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (69.7ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_flashes.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 125ms (Views: 99.3ms | ActiveRecord: 7.1ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 16:59:05 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"syqerAS5sXzu9DR1Fm2r8P/xxb8xK3+VWM9kxSevw/f3+bsm6Oy8Gci7F5Nn+ak2o3SI3cai9LGiqjSRic8jmg==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.9ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/ebef118c389ab3a9/variables" for 127.0.0.1 at 2017-11-01 16:59:05 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-01 17:07:11 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"syqerAS5sXzu9DR1Fm2r8P/xxb8xK3+VWM9kxSevw/f3+bsm6Oy8Gci7F5Nn+ak2o3SI3cai9LGiqjSRic8jmg==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["begin_date", "2017-11-01"], ["end_date", "2017-11-01"], ["member_of_people", "3"], ["created_at", "2017-11-01 16:07:11.762986"], ["updated_at", "2017-11-01 16:07:11.762986"], ["user_id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 63ms (ActiveRecord: 7.8ms)



ActionController::UrlGenerationError - No route matches {:action=>"show", :controller=>"flats"}, missing required keys: [:id]:
  actionpack (5.1.3) lib/action_dispatch/journey/formatter.rb:55:in `generate'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:738:in `generate'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:769:in `generate'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:816:in `url_for'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:267:in `call'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:208:in `call'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:325:in `block (2 levels) in define_url_helper'
  app/controllers/bookings_controller.rb:10:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/34519cdb0327903c/variables" for 127.0.0.1 at 2017-11-01 17:07:11 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-01 17:07:28 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"syqerAS5sXzu9DR1Fm2r8P/xxb8xK3+VWM9kxSevw/f3+bsm6Oy8Gci7F5Nn+ak2o3SI3cai9LGiqjSRic8jmg==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["begin_date", "2017-11-01"], ["end_date", "2017-11-01"], ["member_of_people", "3"], ["created_at", "2017-11-01 16:07:28.701755"], ["updated_at", "2017-11-01 16:07:28.701755"], ["user_id", 3]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 356ms (ActiveRecord: 6.6ms)



NameError - undefined local variable or method `flat' for #<BookingsController:0x007f900e3ca8e8>
Did you mean?  Float:
  app/controllers/bookings_controller.rb:10:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/010f1b8f310a76bf/variables" for 127.0.0.1 at 2017-11-01 17:07:29 +0100
Started GET "/bookings" for 127.0.0.1 at 2017-11-01 17:07:40 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  Rendered bookings/index.html.erb within layouts/application (0.5ms)
  Rendered shared/_navbar.html.erb (3.3ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 78ms (Views: 39.1ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2017-11-01 17:07:44 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.0ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 53.6ms | ActiveRecord: 0.6ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-01 17:07:45 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.8ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 57ms (Views: 32.7ms | ActiveRecord: 4.5ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-01 17:07:47 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (4.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.5ms)
  Rendered flats/show.html.erb within layouts/application (33.3ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 73ms (Views: 61.3ms | ActiveRecord: 4.7ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-01 17:07:48 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (10.6ms)
  Rendered shared/_navbar.html.erb (2.4ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 69ms (Views: 43.8ms | ActiveRecord: 10.2ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 17:07:49 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bvLHc3vWWc8WOkoNHq3gvwTW4Gld4PAzyV0L6CX1Z9cqIeL5l4NUqjB1aetvOeJ5WFOtC6ppexczOFu8i5WHug==", "booking"=>{"member_of_people"=>"", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (10.0ms)
  Rendered shared/_navbar.html.erb (10.4ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 59ms (Views: 50.8ms | ActiveRecord: 1.0ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 17:07:51 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wP5EoZfQP0mYWfQ3LLou5Q6WZUXEJOB+JV1ek6/juYiELWEre4UyLL4W19FdLiwjUhMoJzOta1rfOA7HAYNZ5Q==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["begin_date", "2017-11-01"], ["end_date", "2017-11-01"], ["member_of_people", "3"], ["created_at", "2017-11-01 16:07:51.863181"], ["updated_at", "2017-11-01 16:07:51.863181"], ["user_id", 3]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 6.3ms)



ActionController::UrlGenerationError - No route matches {:action=>"show", :controller=>"flats", :id=>nil}, missing required keys: [:id]:
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:246:in `raise_generation_error'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:216:in `block in optimized_helper'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:231:in `block in parameterize_args'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:228:in `parameterize_args'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:215:in `optimized_helper'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:205:in `call'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:325:in `block (2 levels) in define_url_helper'
  app/controllers/bookings_controller.rb:10:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/1de1073305789077/variables" for 127.0.0.1 at 2017-11-01 17:07:51 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-01 17:09:20 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wP5EoZfQP0mYWfQ3LLou5Q6WZUXEJOB+JV1ek6/juYiELWEre4UyLL4W19FdLiwjUhMoJzOta1rfOA7HAYNZ5Q==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 32ms (ActiveRecord: 4.8ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/3791fa8a713cd14b/variables" for 127.0.0.1 at 2017-11-01 17:09:21 +0100
Started GET "/" for 127.0.0.1 at 2017-11-01 17:09:27 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.6ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.3ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-01 17:09:35 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.5ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 32.1ms | ActiveRecord: 0.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-01 17:09:37 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (4.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.2ms)
  Rendered flats/show.html.erb within layouts/application (28.6ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 69ms (Views: 59.5ms | ActiveRecord: 3.6ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-01 17:09:38 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (9.4ms)
  Rendered shared/_navbar.html.erb (10.8ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 68ms (Views: 47.6ms | ActiveRecord: 2.9ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-01 17:09:42 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vf4HWgNtaPAuHjsuWefgM35hqrOgValcnq7YpnFSHAT5LSLQ7zhllQhRGMgoc+L1IuTn0VfcInhky4jy3zL8aQ==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"1", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"4"}, "commit"=>"Booking"}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.9ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 4.4ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/a0b04a68ae0d8c1e/variables" for 127.0.0.1 at 2017-11-01 17:09:42 +0100
Started POST "/__better_errors/a0b04a68ae0d8c1e/eval" for 127.0.0.1 at 2017-11-01 17:40:44 +0100
Started GET "/" for 127.0.0.1 at 2017-11-09 13:48:25 +0100
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (346.6ms)
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (68.2ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 465ms (Views: 422.6ms | ActiveRecord: 36.0ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 13:48:32 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (4.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.6ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (6.5ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 31.9ms | ActiveRecord: 8.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 13:48:38 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.8ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (2.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (4.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.2ms)
  Rendered flats/show.html.erb within layouts/application (60.2ms)
  Rendered shared/_navbar.html.erb (2.8ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 113ms (Views: 92.8ms | ActiveRecord: 10.9ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 13:48:44 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (76.2ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 132ms (Views: 109.9ms | ActiveRecord: 3.7ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 13:48:51 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PHefjr+UFSgkx+1NpcPmyOygvzmE/ldRiKpQlrNv0BF4pLoEU8EYTQKIzqvUV+QOsCXyW3N33HVyzwDCHQ8wfA==", "booking"=>{"member_of_people"=>"4", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"12"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.7ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/03e083eebf08d572/variables" for 127.0.0.1 at 2017-11-09 13:48:51 +0100
Started GET "/flats" for 127.0.0.1 at 2017-11-09 13:52:02 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.6ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (29.1ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 79ms (Views: 55.8ms | ActiveRecord: 6.1ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 13:52:05 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (3.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (12.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.3ms)
  Rendered flats/show.html.erb within layouts/application (54.2ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 116ms (Views: 87.0ms | ActiveRecord: 21.2ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 13:52:08 +0100

SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/bookings_controller.rb:47:in `'
  activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
  activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
  activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
  activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
  activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
  activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
  activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
  activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
  activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
  activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
  activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
  activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
  activesupport (5.1.3) lib/active_support/inflector/methods.rb:269:in `block in constantize'
  activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
  activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
  activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
  actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/b1642295f294929d/variables" for 127.0.0.1 at 2017-11-09 13:52:08 +0100
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 13:52:16 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (10.0ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 99ms (Views: 41.4ms | ActiveRecord: 7.5ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 13:52:21 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IDeE6UR2LM6pxM7IWuCOlKGIFPalEIeplsPcW8hU5tFk5KFjqCMhq4+L7S4rdIxS/Q1ZlFKZDI1spowPZjQGvA==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"13"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)



NoMethodError - undefined method `flat=' for #<Booking:0x007fb8ce103748>
Did you mean?  flat_id=:
  activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
  app/controllers/bookings_controller.rb:22:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/81b26f6a475a5745/variables" for 127.0.0.1 at 2017-11-09 13:52:21 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 13:52:37 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IDeE6UR2LM6pxM7IWuCOlKGIFPalEIeplsPcW8hU5tFk5KFjqCMhq4+L7S4rdIxS/Q1ZlFKZDI1spowPZjQGvA==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"13"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 29ms (ActiveRecord: 5.9ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/05dcb09bc0604652/variables" for 127.0.0.1 at 2017-11-09 13:52:37 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 13:52:50 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IDeE6UR2LM6pxM7IWuCOlKGIFPalEIeplsPcW8hU5tFk5KFjqCMhq4+L7S4rdIxS/Q1ZlFKZDI1spowPZjQGvA==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"13"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 1.1ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/c2f67fbb7d1c2712/variables" for 127.0.0.1 at 2017-11-09 13:52:50 +0100
Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 13:54:04 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (4.7ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.6ms)
  Rendered flats/show.html.erb within layouts/application (26.7ms)
  Rendered shared/_navbar.html.erb (3.0ms)
  Rendered shared/_flashes.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (1.6ms)
Completed 200 OK in 109ms (Views: 56.4ms | ActiveRecord: 8.2ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 13:54:06 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (31.5ms)
  Rendered shared/_navbar.html.erb (3.3ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 82ms (Views: 64.0ms | ActiveRecord: 2.9ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 13:54:09 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cFhLHbUdIekhmroBE8QH3NRhWHAZB97JQw919/zpmJE0i26XWUgsjAfVmediUAUaiOQVEu6OVe25aiWjUol4/A==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"13"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.6ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/8763e6bf2f6888f4/variables" for 127.0.0.1 at 2017-11-09 13:54:09 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:16:19 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cFhLHbUdIekhmroBE8QH3NRhWHAZB97JQw919/zpmJE0i26XWUgsjAfVmediUAUaiOQVEu6OVe25aiWjUol4/A==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"14"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 12ms (ActiveRecord: 1.1ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/bee3d6c128b9c17a/variables" for 127.0.0.1 at 2017-11-09 14:16:19 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:17:17 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cFhLHbUdIekhmroBE8QH3NRhWHAZB97JQw919/zpmJE0i26XWUgsjAfVmediUAUaiOQVEu6OVe25aiWjUol4/A==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"14"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 38ms (ActiveRecord: 6.3ms)



NoMethodError - undefined method `flat=' for #<Booking:0x007fb8c8a7b1f0>
Did you mean?  flat_id=:
  activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
  app/controllers/bookings_controller.rb:22:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/fbaab2c9b7265d38/variables" for 127.0.0.1 at 2017-11-09 14:17:17 +0100
Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:17:27 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  Rendered bookings/index.html.erb within layouts/application (0.3ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 56ms (Views: 27.6ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:17:33 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 32.1ms | ActiveRecord: 0.5ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:17:35 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.6ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.4ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 49ms (Views: 28.0ms | ActiveRecord: 3.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:17:38 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.6ms)
  Rendered flats/show.html.erb within layouts/application (33.6ms)
  Rendered shared/_navbar.html.erb (2.8ms)
  Rendered shared/_flashes.html.erb (0.9ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 75ms (Views: 63.1ms | ActiveRecord: 3.8ms)


Started GET "/flats/1/reviews/new" for 127.0.0.1 at 2017-11-09 14:17:43 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering reviews/new.html.erb within layouts/application
  Rendered reviews/_form.html.erb (7.0ms)
  Rendered reviews/new.html.erb within layouts/application (9.7ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (1.1ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 55ms (Views: 45.8ms | ActiveRecord: 0.8ms)


Started POST "/flats/1/reviews" for 127.0.0.1 at 2017-11-09 14:17:45 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ram6cFkQxXAJJU6lBKyE6ERcdfua0IsUEK0qIjavmb/pep/6tUXIFS9qbUN1OIYuGNk4mW1ZADDqyHp2mM950g==", "review"=>{"description"=>",l,l;"}, "commit"=>"Add a review", "flat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.1ms)[0m  [1m[32mINSERT INTO "reviews" ("description", "created_at", "updated_at", "flat_id", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["description", ",l,l;"], ["created_at", "2017-11-09 13:17:45.716639"], ["updated_at", "2017-11-09 13:17:45.716639"], ["flat_id", 1], ["user_id", 3]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 21ms (ActiveRecord: 11.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:17:45 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (3.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (2.1ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.1ms)
  Rendered flats/show.html.erb within layouts/application (13.6ms)
  Rendered shared/_navbar.html.erb (2.4ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 53ms (Views: 46.1ms | ActiveRecord: 1.6ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:17:49 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (17.8ms)
  Rendered shared/_navbar.html.erb (3.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 73ms (Views: 50.6ms | ActiveRecord: 4.0ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:17:53 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WdichMexh97kpJSPmgflzCRDnD2MemGJLLVmaXE35K4dC7kOK+SKu8Lrt2nrk+cKeMbRX3vz6q3W0DY931cEww==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"14"}, "commit"=>"Booking"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 8ms (ActiveRecord: 1.9ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/9bd4c86aaaf73b40/variables" for 127.0.0.1 at 2017-11-09 14:17:54 +0100
Started POST "/__better_errors/9bd4c86aaaf73b40/eval" for 127.0.0.1 at 2017-11-09 14:18:15 +0100
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:19:31 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (9.8ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 43ms (Views: 36.5ms | ActiveRecord: 1.2ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:19:44 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"omtNCA4bcnCQybGWqBj2ZYpaXt4E4Db42og8+W8xsNrmuGiC4k5/FbaGknDZjPSj1t8TvPNpvdwg7WytwVFQtw==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"10"}, "commit"=>"Booking"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.7ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 8ms (ActiveRecord: 2.8ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/9ec2bc8b89ff9664/variables" for 127.0.0.1 at 2017-11-09 14:19:44 +0100
Started GET "/" for 127.0.0.1 at 2017-11-09 14:22:43 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.4ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.3ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:22:45 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.9ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.2ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 43ms (Views: 33.7ms | ActiveRecord: 0.8ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:22:49 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (2.1ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.3ms)
  Rendered flats/show.html.erb within layouts/application (12.2ms)
  Rendered shared/_navbar.html.erb (1.6ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 47ms (Views: 39.8ms | ActiveRecord: 1.6ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:22:50 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (11.0ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 45ms (Views: 38.5ms | ActiveRecord: 0.7ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:22:58 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QKjMyPztk6FRPa+QbfW8hzypO5Opqi1QGvCGruUE9IIEe+lCELiexHdyjHYcYb5BYCx28V4jpnTgldb6S2QU7w==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"11", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 0.9ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/ad40df7d5460b3cd/variables" for 127.0.0.1 at 2017-11-09 14:22:58 +0100
Started POST "/__better_errors/ad40df7d5460b3cd/eval" for 127.0.0.1 at 2017-11-09 14:23:16 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:23:39 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QKjMyPztk6FRPa+QbfW8hzypO5Opqi1QGvCGruUE9IIEe+lCELiexHdyjHYcYb5BYCx28V4jpnTgldb6S2QU7w==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"11", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 30ms (ActiveRecord: 4.9ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/364ae7b0b6e301d0/variables" for 127.0.0.1 at 2017-11-09 14:23:39 +0100
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:23:53 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (12.7ms)
  Rendered shared/_navbar.html.erb (2.6ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 76ms (Views: 45.0ms | ActiveRecord: 2.8ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:23:56 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SV1iPqDe7OMDWAIM4WOJ/E946trky+PCGM09jtN1kDMNjke0TIvhhiUXIeqQ94s6E/2nuBNCaObiqG3afRVwXg==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"9", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 1.1ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/616f05b9fa12502b/variables" for 127.0.0.1 at 2017-11-09 14:23:56 +0100
Started GET "/" for 127.0.0.1 at 2017-11-09 14:24:32 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (19.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 49ms (Views: 43.3ms | ActiveRecord: 2.7ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:24:33 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.0ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 52ms (Views: 32.0ms | ActiveRecord: 2.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:24:36 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (3.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.4ms)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.5ms)
  Rendered flats/show.html.erb within layouts/application (29.5ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 64ms (Views: 54.2ms | ActiveRecord: 4.2ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:24:39 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.8ms)



RuntimeError - :
  app/controllers/bookings_controller.rb:39:in `new'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/b622d5f55a732f1f/variables" for 127.0.0.1 at 2017-11-09 14:24:39 +0100
Started POST "/__better_errors/b622d5f55a732f1f/eval" for 127.0.0.1 at 2017-11-09 14:24:53 +0100
Started POST "/__better_errors/b622d5f55a732f1f/eval" for 127.0.0.1 at 2017-11-09 14:25:23 +0100
Started POST "/__better_errors/b622d5f55a732f1f/eval" for 127.0.0.1 at 2017-11-09 14:26:12 +0100
Started POST "/__better_errors/b622d5f55a732f1f/eval" for 127.0.0.1 at 2017-11-09 14:26:17 +0100
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:27:17 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 50ms (ActiveRecord: 7.8ms)



RuntimeError - :
  app/controllers/bookings_controller.rb:40:in `new'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/6c8221acda6777f9/variables" for 127.0.0.1 at 2017-11-09 14:27:18 +0100
Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:27:32 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (13.9ms)
  Rendered shared/_navbar.html.erb (2.8ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 123ms (Views: 51.0ms | ActiveRecord: 7.1ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:27:36 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"o+pxGVS2VA5SOWz/JKd9SZiXP21/2rbWJCk+TJCRHY3nOVSTuONZa3R2TxlVM3+PxBJyD4hTPfLeTG4YPvH94A==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"9", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 7ms (ActiveRecord: 1.7ms)



ActiveRecord::RecordNotFound - Couldn't find Flat with 'id'=:
  activerecord (5.1.3) lib/active_record/core.rb:189:in `find'
  app/controllers/bookings_controller.rb:5:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/eb16e7d1cb2f4d1e/variables" for 127.0.0.1 at 2017-11-09 14:27:36 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:27:54 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:28:00 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:28:24 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:28:31 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:29:06 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:29:22 +0100
Started POST "/__better_errors/eb16e7d1cb2f4d1e/eval" for 127.0.0.1 at 2017-11-09 14:29:34 +0100
Started GET "/" for 127.0.0.1 at 2017-11-09 14:30:20 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (18.9ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 58ms (Views: 50.0ms | ActiveRecord: 2.7ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:30:21 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.5ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (5.0ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 54ms (Views: 34.9ms | ActiveRecord: 3.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:30:25 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.1ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (0.9ms)
  Rendered flats/show.html.erb within layouts/application (29.8ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 73ms (Views: 63.4ms | ActiveRecord: 4.0ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:30:26 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (13.6ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 50.6ms | ActiveRecord: 4.1ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:30:28 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P1PUUQmNKNNBb+0BQWVg0DBc19X9rdjSfuzstvBrOgJ7gPHb5dgltmcgzucw8WIWbNmatwokU/aEibziXgvabw==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"9", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.2ms)



NoMethodError - undefined method `flat=' for #<Booking:0x007fb8cea1bfb0>
Did you mean?  flat_id=:
  activemodel (5.1.3) lib/active_model/attribute_methods.rb:432:in `method_missing'
  app/controllers/bookings_controller.rb:22:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/58692effd59043f9/variables" for 127.0.0.1 at 2017-11-09 14:30:28 +0100
Started POST "/__better_errors/58692effd59043f9/eval" for 127.0.0.1 at 2017-11-09 14:30:56 +0100
Started POST "/__better_errors/58692effd59043f9/eval" for 127.0.0.1 at 2017-11-09 14:31:05 +0100
Started POST "/__better_errors/58692effd59043f9/eval" for 127.0.0.1 at 2017-11-09 14:31:20 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:32:10 +0100
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P1PUUQmNKNNBb+0BQWVg0DBc19X9rdjSfuzstvBrOgJ7gPHb5dgltmcgzucw8WIWbNmatwokU/aEibziXgvabw==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"10", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.6ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id", "flat_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["begin_date", "2017-11-09"], ["end_date", "2017-11-10"], ["member_of_people", "3"], ["created_at", "2017-11-09 13:32:11.015416"], ["updated_at", "2017-11-09 13:32:11.015416"], ["user_id", 3], ["flat_id", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 94ms (ActiveRecord: 15.7ms)



RuntimeError - :
  app/controllers/bookings_controller.rb:24:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/6852dfdf73a7b35e/variables" for 127.0.0.1 at 2017-11-09 14:32:11 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:32:29 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P1PUUQmNKNNBb+0BQWVg0DBc19X9rdjSfuzstvBrOgJ7gPHb5dgltmcgzucw8WIWbNmatwokU/aEibziXgvabw==", "booking"=>{"member_of_people"=>"3", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"10", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id", "flat_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["begin_date", "2017-11-09"], ["end_date", "2017-11-10"], ["member_of_people", "3"], ["created_at", "2017-11-09 13:32:29.323780"], ["updated_at", "2017-11-09 13:32:29.323780"], ["user_id", 3], ["flat_id", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.6ms)



RuntimeError - :
  app/controllers/bookings_controller.rb:24:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/fe59e5d82346a8cc/variables" for 127.0.0.1 at 2017-11-09 14:32:29 +0100
Started GET "/" for 127.0.0.1 at 2017-11-09 14:32:39 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (284.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (26.1ms)
  Rendered shared/_flashes.html.erb (10.7ms)
  Rendered shared/_footer.html.erb (0.9ms)
Completed 200 OK in 498ms (Views: 494.9ms | ActiveRecord: 0.5ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:32:41 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.5ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (6.9ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 37.7ms | ActiveRecord: 1.0ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:32:44 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (5.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (4.7ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (2.0ms)
  Rendered flats/show.html.erb within layouts/application (55.2ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.6ms)
Completed 200 OK in 94ms (Views: 78.1ms | ActiveRecord: 8.6ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:32:45 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (82.6ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_flashes.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 117ms (Views: 111.2ms | ActiveRecord: 1.0ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:32:49 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kJjoTXJ/73yGnEiTTr+4lsfbpV2Q/cO7uu3y8xEomM3US83HniriGaDTa3U/K7pQm17oP2d0SJ9AiKKnv0h4oA==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"10", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (1.6ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id", "flat_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["begin_date", "2017-11-09"], ["end_date", "2017-11-10"], ["member_of_people", "2"], ["created_at", "2017-11-09 13:32:49.300702"], ["updated_at", "2017-11-09 13:32:49.300702"], ["user_id", 3], ["flat_id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 4.6ms)



RuntimeError - :
  app/controllers/bookings_controller.rb:24:in `create'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/3aec6b1e62826230/variables" for 127.0.0.1 at 2017-11-09 14:32:49 +0100
Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:33:08 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kJjoTXJ/73yGnEiTTr+4lsfbpV2Q/cO7uu3y8xEomM3US83HniriGaDTa3U/K7pQm17oP2d0SJ9AiKKnv0h4oA==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"10", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id", "flat_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["begin_date", "2017-11-09"], ["end_date", "2017-11-10"], ["member_of_people", "2"], ["created_at", "2017-11-09 13:33:08.588675"], ["updated_at", "2017-11-09 13:33:08.588675"], ["user_id", 3], ["flat_id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 66ms (ActiveRecord: 13.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:33:08 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (3.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (0.9ms)
  Rendered flats/show.html.erb within layouts/application (23.0ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 60ms (Views: 49.4ms | ActiveRecord: 3.4ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:33:20 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  Rendered bookings/index.html.erb within layouts/application (0.4ms)
  Rendered shared/_navbar.html.erb (1.7ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 31ms (Views: 26.5ms | ActiveRecord: 0.3ms)


  [1m[36mBooking Load (1.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" ORDER BY "bookings"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:35:44 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 3[0m
  Rendered bookings/index.html.erb within layouts/application (2.1ms)
  Rendered shared/_navbar.html.erb (1.6ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 33ms (Views: 28.6ms | ActiveRecord: 0.7ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:43:01 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 3[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered bookings/index.html.erb within layouts/application (12.9ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.4ms)



NoMethodError - undefined method `id' for nil:NilClass:
  app/views/bookings/index.html.erb:10:in `block in _app_views_bookings_index_html_erb___2322732533640661856_70127108894220'
  activerecord (5.1.3) lib/active_record/relation/delegation.rb:39:in `each'
  app/views/bookings/index.html.erb:5:in `_app_views_bookings_index_html_erb___2322732533640661856_70127108894220'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:157:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:52:in `block (2 levels) in render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:51:in `block in render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:50:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:14:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:42:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:23:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:103:in `_render_template'
  actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
  actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /usr/local/opt/rbenv/versions/2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:33:in `default_render'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/f23947c01863373c/variables" for 127.0.0.1 at 2017-11-09 14:43:01 +0100
  [1m[36mBooking Load (2.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 8]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 9]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:43:32 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 3[0m
  Rendered bookings/index.html.erb within layouts/application (1.3ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 40ms (Views: 35.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:43:36 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.3ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 44ms (Views: 41.3ms | ActiveRecord: 0.5ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:43:37 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.0ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (5.1ms)
  Rendered shared/_flashes.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 49ms (Views: 39.4ms | ActiveRecord: 0.9ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:43:52 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (3.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.1ms)
  Rendered flats/show.html.erb within layouts/application (14.6ms)
  Rendered shared/_navbar.html.erb (4.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 66ms (Views: 54.2ms | ActiveRecord: 1.6ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:43:53 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (1.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (22.9ms)
  Rendered shared/_navbar.html.erb (2.6ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.8ms)
Completed 200 OK in 83ms (Views: 73.0ms | ActiveRecord: 2.3ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:43:57 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"spKAR1W4TDTY3KEWdboqVOAD8bU8U4osXqp2T27RzKb2QaXNue1BUf6TgvAELiiSvIa818vaAQikzyYbwLEsyw==", "booking"=>{"member_of_people"=>"2", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"9", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"11", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("begin_date", "end_date", "member_of_people", "created_at", "updated_at", "user_id", "flat_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["begin_date", "2017-11-09"], ["end_date", "2017-11-11"], ["member_of_people", "2"], ["created_at", "2017-11-09 13:43:57.700029"], ["updated_at", "2017-11-09 13:43:57.700029"], ["user_id", 3], ["flat_id", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/flats/1
Completed 302 Found in 12ms (ActiveRecord: 4.2ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:43:57 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.1ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (2.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.6ms)
  Rendered flats/show.html.erb within layouts/application (12.6ms)
  Rendered shared/_navbar.html.erb (2.9ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 54ms (Views: 48.3ms | ActiveRecord: 1.2ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:44:06 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 3[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered bookings/index.html.erb within layouts/application (5.7ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 45ms (Views: 39.0ms | ActiveRecord: 1.3ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:44:27 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 3[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered bookings/index.html.erb within layouts/application (7.2ms)
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_flashes.html.erb (0.8ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 58ms (Views: 50.0ms | ActiveRecord: 1.8ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:45:07 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered bookings/index.html.erb within layouts/application (5.3ms)
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 42.9ms | ActiveRecord: 1.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-11-09 14:46:09 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 44ms (Views: 42.0ms | ActiveRecord: 0.3ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:46:10 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.4ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.7ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 44ms (Views: 36.3ms | ActiveRecord: 0.7ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:46:14 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.4ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Flat Load (0.0ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering flats/show.html.erb within layouts/application
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."flat_id" = $1[0m  [["flat_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (4.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered flats/_reviews_flat.html.erb (1.0ms)
  Rendered flats/show.html.erb within layouts/application (14.9ms)
  Rendered shared/_navbar.html.erb (2.3ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 57ms (Views: 47.3ms | ActiveRecord: 3.0ms)


Started GET "/flats/1/bookings/new" for 127.0.0.1 at 2017-11-09 14:46:15 +0100
Processing by BookingsController#new as HTML
  Parameters: {"flat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (16.9ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 72ms (Views: 64.9ms | ActiveRecord: 0.7ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:46:20 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yYxy/FXqXn+R7v1oVchw18mM3+tSKW7UdV/lcKnoe3eNX1d2ub9TGreh3o4kXHIRlQmSiaWg5fCPOrUkB4ibGg==", "booking"=>{"member_of_people"=>"", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"8", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"8", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.2ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (12.8ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_flashes.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 48ms (Views: 40.6ms | ActiveRecord: 1.0ms)


Started POST "/bookings" for 127.0.0.1 at 2017-11-09 14:46:27 +0100
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U7DrzH2J9Bmm6LBVwQMo2iRc7VRF+fXfFSu5FbwRawkXY85Gkdz5fICnk7OwlyoceNmgNrJwfvvvTulBEnGLZA==", "booking"=>{"member_of_people"=>"", "begin_date(1i)"=>"2017", "begin_date(2i)"=>"11", "begin_date(3i)"=>"12", "end_date(1i)"=>"2017", "end_date(2i)"=>"11", "end_date(3i)"=>"9", "flat_id"=>"1"}, "commit"=>"Booking"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFlat Load (0.5ms)[0m  [1m[34mSELECT  "flats".* FROM "flats" WHERE "flats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (10.2ms)
  Rendered shared/_navbar.html.erb (1.9ms)
  Rendered shared/_flashes.html.erb (0.3ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 49ms (Views: 42.0ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:47:31 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.8ms)
  Rendered shared/_flashes.html.erb (0.5ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 35ms (Views: 32.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:51:04 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.2ms)
  Rendered shared/_navbar.html.erb (3.5ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms)



SyntaxError - syntax error, unexpected keyword_else
e;@output_buffer.append=( else );@output_buffer.safe_append=
                              ^
/Users/leawoittequand/code/LeaWoittequand/spores/app/views/shared/_navbar.html.erb:25: syntax error, unexpected keyword_end, expecting ')'
'.freeze;           end 
                       ^
/Users/leawoittequand/code/LeaWoittequand/spores/app/views/shared/_navbar.html.erb:45: syntax error, unexpected keyword_else, expecting ')'
'.freeze;     else 
                  ^
/Users/leawoittequand/code/LeaWoittequand/spores/app/views/shared/_navbar.html.erb:48: syntax error, unexpected keyword_end, expecting ')'
'.freeze;     end 
                 ^
/Users/leawoittequand/code/LeaWoittequand/spores/app/views/shared/_navbar.html.erb:65: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
                ^
/Users/leawoittequand/code/LeaWoittequand/spores/app/views/shared/_navbar.html.erb:67: syntax error, unexpected keyword_end, expecting ')'
          end
             ^:
  app/views/shared/_navbar.html.erb:23:in `'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:307:in `compile'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:257:in `block (2 levels) in compile!'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:348:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:256:in `block in compile!'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:244:in `compile!'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:156:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/partial_renderer.rb:342:in `block in render_partial'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/abstract_renderer.rb:41:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/partial_renderer.rb:331:in `render_partial'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/partial_renderer.rb:310:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:47:in `render_partial'
  actionview (5.1.3) lib/action_view/helpers/rendering_helper.rb:35:in `render'
  app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb__2130535655638533114_70127117512540'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:157:in `block in render'
  activesupport (5.1.3) lib/active_support/notifications.rb:168:in `instrument'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:352:in `instrument_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/template.rb:155:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:64:in `render_with_layout'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:50:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/template_renderer.rb:14:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:42:in `render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/renderer/renderer.rb:23:in `render'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:103:in `_render_template'
  actionpack (5.1.3) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
  actionpack (5.1.3) lib/action_controller/metal/renderers.rb:141:in `render_to_body'
  actionpack (5.1.3) lib/abstract_controller/rendering.rb:24:in `render'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:36:in `render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /usr/local/opt/rbenv/versions/2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (5.1.3) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:29:in `cleanup_view_runtime'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:33:in `default_render'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
  actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
  actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
  activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
  actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
  activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
  actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
  /usr/local/Cellar/rbenv/1.1.1/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
  actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
  actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
  actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
  actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
  omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
  omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
  warden (1.2.7) lib/warden/manager.rb:35:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
  activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
  actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.3.0) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
  web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
  web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
  web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
  sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
  rack (2.0.3) lib/rack/method_override.rb:22:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  railties (5.1.3) lib/rails/engine.rb:522:in `call'
  puma (3.10.0) lib/puma/configuration.rb:225:in `call'
  puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
  puma (3.10.0) lib/puma/server.rb:437:in `process_client'
  puma (3.10.0) lib/puma/server.rb:301:in `block in run'
  puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'

Started POST "/__better_errors/5c62c49edbd86232/variables" for 127.0.0.1 at 2017-11-09 14:51:05 +0100
Started GET "/" for 127.0.0.1 at 2017-11-09 14:51:15 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.7ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 44ms (Views: 41.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:52:45 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (10.8ms)
  Rendered shared/_flashes.html.erb (0.6ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 45ms (Views: 43.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:52:47 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (3.6ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 33.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:54:43 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered shared/_navbar.html.erb (4.2ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 47ms (Views: 44.1ms | ActiveRecord: 0.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-11-09 14:54:48 +0100
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qy5v6B5y52tQa+7ZiPaKTyHdqI6rzFS5FCUB1G7PBnvv/Upi8ifqDnYkzT/5YoiJfVjl7FxF353uQFGAwK/mFg=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:54:48 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
  Rendered shared/_navbar.html.erb (6.3ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 34.2ms | ActiveRecord: 0.0ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:54:57 +0100
Processing by BookingsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-11-09 14:54:57 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (18.7ms)
  Rendered shared/_navbar.html.erb (1.8ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 51ms (Views: 49.5ms | ActiveRecord: 0.0ms)


Started GET "/users/auth/facebook" for 127.0.0.1 at 2017-11-09 14:55:01 +0100
Started GET "/users/auth/facebook/callback?code=AQDopVk0QeZeKPqATwj1theZEu1Too63S52TLxtV2QlgBVSzUlSOk7iy9rlyJjWBQsqfvytHEVEodql9vAGGoFFlOE2e_C2sW6BoNLIgMM22cWN_ZsrfxLpvDfpe_D4DugFPC_iDd2jVDcVR4PHeSTG0-S2gZVYioWcC0Y0x6jv_yAKXQb8WaIlOvnVIfFNc9PPkH6VHVXFLxgfL_usjYx-j8il7vriLn8-R3tAcxfXk4SQiMKDGStNv4LJXxlCeb3N_lK6UYKE1oZQ2VcTE14-c39k7yPdvoF2Znd-SCTG4U5HwQq9xNaSsBxSe8NIvIGY&state=b586e06fc8baefe09dd21a632c90adca6083e9fe79b47ca3" for 127.0.0.1 at 2017-11-09 14:55:02 +0100
Processing by Users::OmniauthCallbacksController#facebook as HTML
  Parameters: {"code"=>"AQDopVk0QeZeKPqATwj1theZEu1Too63S52TLxtV2QlgBVSzUlSOk7iy9rlyJjWBQsqfvytHEVEodql9vAGGoFFlOE2e_C2sW6BoNLIgMM22cWN_ZsrfxLpvDfpe_D4DugFPC_iDd2jVDcVR4PHeSTG0-S2gZVYioWcC0Y0x6jv_yAKXQb8WaIlOvnVIfFNc9PPkH6VHVXFLxgfL_usjYx-j8il7vriLn8-R3tAcxfXk4SQiMKDGStNv4LJXxlCeb3N_lK6UYKE1oZQ2VcTE14-c39k7yPdvoF2Znd-SCTG4U5HwQq9xNaSsBxSe8NIvIGY", "state"=>"b586e06fc8baefe09dd21a632c90adca6083e9fe79b47ca3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."provider" = $1 AND "users"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "10213454979190093"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.7ms)[0m  [1m[33mUPDATE "users" SET "token" = $1, "token_expiry" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["token", "EAAC1EZBWTJE8BAGLhJ23hZCDtWkyH0PqmHiY6CRZCMUZCRB1JvkkKoWGlQNUYeUhOfL9ZB7AzT9pwh5ylN08xjt5hZBbjFnBA1jc8nF5hILOqBXsQ0FflTXXLq9BU2e4uvzpo7Y7Ndv3fdtzACRF7QqmD3rlYxKGriSGwKCQN54gZDZD"], ["token_expiry", "2018-01-08 13:55:01"], ["updated_at", "2017-11-09 13:55:02.424870"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 6], ["current_sign_in_at", "2017-11-09 13:55:02.434993"], ["last_sign_in_at", "2017-10-03 14:08:23.372954"], ["updated_at", "2017-11-09 13:55:02.435716"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/bookings
Completed 302 Found in 20ms (ActiveRecord: 9.3ms)


Started GET "/bookings" for 127.0.0.1 at 2017-11-09 14:55:02 +0100
Processing by BookingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering bookings/index.html.erb within layouts/application
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."user_id" = 1[0m
  Rendered bookings/index.html.erb within layouts/application (1.4ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 30.2ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-11-09 14:55:21 +0100
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TJzM4U/6zJJcQXu5umg4oyXDoHlBfmtPOnaXa5LysJF2l+gn1Cot9kdwzcBD1gWBsjBxPIAGUCRwe9k8OHFNKA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:55:21 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.8ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.3ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.0ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:55:22 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.6ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (1.9ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 40ms (Views: 30.6ms | ActiveRecord: 0.6ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:55:26 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-11-09 14:55:26 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.9ms)
  Rendered shared/_navbar.html.erb (2.5ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.5ms)
Completed 200 OK in 51ms (Views: 49.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 14:55:36 +0100
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
  Rendered shared/_navbar.html.erb (2.1ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 31.9ms | ActiveRecord: 0.0ms)


Started GET "/flats" for 127.0.0.1 at 2017-11-09 14:55:41 +0100
Processing by FlatsController#index as HTML
  [1m[36mFlat Load (0.3ms)[0m  [1m[34mSELECT "flats".* FROM "flats" WHERE ("flats"."lat" IS NOT NULL) AND ("flats"."lng" IS NOT NULL)[0m
  Rendered flats/_map_box.html.erb (0.8ms)
  Rendering flats/index.html.erb within layouts/application
  Rendered flats/index.html.erb within layouts/application (0.7ms)
  Rendered shared/_navbar.html.erb (2.0ms)
  Rendered shared/_flashes.html.erb (0.4ms)
  Rendered shared/_footer.html.erb (0.2ms)
Completed 200 OK in 39ms (Views: 31.4ms | ActiveRecord: 0.3ms)


Started GET "/flats/1" for 127.0.0.1 at 2017-11-09 14:55:43 +0100
Processing by FlatsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-11-09 14:55:43 +0100
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (13.0ms)
  Rendered shared/_navbar.html.erb (2.6ms)
  Rendered shared/_flashes.html.erb (0.7ms)
  Rendered shared/_footer.html.erb (0.4ms)
Completed 200 OK in 51ms (Views: 50.3ms | ActiveRecord: 0.0ms)


